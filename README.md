# pentesting-note

# network enum 
nmap -sn <target net>0/24
fping -a -g <target net>0/24 2>/dev/null | tee hosts
### SMTP (Simple Mail Transfer Protocol) service.
nmap -sV -p 25 <machine ip >
nmap --script smtp-commands -p 25 <ip>
---------------------
msfconsole -q
search smtp_enum
use auxiliary/scanner/smtp/smtp_enum
show options

set RHOSTS <ip>

set USER_FILE /usr/share/metasploit-framework/data/wordlists/common_users.txt
------------
smtp-user-enum -M VRFY -U /usr/share/metasploit-framework/data/wordlists/common_users.txt -t <ip> # depend on which method we abserve set variabl -M 
-----------------
nmap --script smtp-enum-users -p 25 <ip>
------------------------------------------------------------------
---------------------------------------------
##  Samba service

nmap -sV -p 445,139 <ip>


enum4linux -r <ip> | grep "Local User"

-----------------
smbmap -H <ip> # access perm
---------------
nmap --script smb-enum-shares -p 445 <ip>
--
smbclient -N \\\\ip\\<sharefile> -U ""
============
rpcclient -U "" -N <ip>

* enumdomusers: Enumerate users
* enumdomgroups: Enumerate domain groups
* enumdomains: Enumerate domain information
* queryuser john#: Identify user information for the given user relative ID number
========================
## finger servce 

finger root@<ip>

msfconsole -q
search finger_users
finger user@<ip>

---------------
/root/Desktop/tools/finger-user-enum/finger-user-enum.pl -U /usr/share/metasploit-framework/data/wordlists/unix_users.txt -t <ip>

===================
==================
local
sudo -l

find / -perm -4000 2>/dev/null
grep -nri "/tmp/filename" /usr #to find .sh script who wesponsible for permtions
